# Один из вариантов зачёта — создание **социального графа Совы** с помощью Gephi

_Как социально устроена Сова? Какие сообщества можно выделить? Кто с кем больше дружит? Насколько сообщество Совы плотное?_

Попробуем разобраться, выполнив это задание! 

## 1. Создадим "матрицу совместной встречаемости" с весами
Для начала нужно выяснить, кто с кем дружит. Конечно, вероятнее всего, на Сове все друг друга знают -- если не ставить никаких ограничений, то получится граф, где все вершины связаны со всеми. 

Подумайте, как можно математически ограничить понятие дружбы. 

Я предлагаю такой способ: у каждого человека узнайте топ-3 его / её лучших друга. Добавляйте данные в таблицу-матрицу (пример ищите в этой папке).

Несколько важных моментов: 
* выберите, как вы будете идти по людям -- я предлагаю идти по строкам, а в столбцах отмечать топ-три друга
* ставьте в ячейке цифру 3, 2 или 1, где 3 -- самый лучших друг
* на пересечениях человека с самим собой, а также в незаполненных ячейках поставьте нули

Вы можете придумать свой способ оценки дружбы! :)

(или оценивать не дружбу вообще, а, например, попробовать превратить информацию о том, кто на какие курсы ходит в граф)

## 2. Сохранение матрицы
Загрузите таблицу в формате CSV и запомните ее местоположение у вас на компьютере. 

## 3. Загрузка матрицы в Gephi
Если еще не, загрузите программу [Gephi](https://gephi.org/). 

Откройте программу

Нажмите "Создать новый проект"

![image](https://github.com/user-attachments/assets/f432843f-f3e7-42cd-bcb7-82bf4d55102a)

Нажмите "Открыть"

![image](https://github.com/user-attachments/assets/dfa37cd5-6d92-4da3-9057-7ac25a7d2eed)

В окошке выберите ваш файл

![image](https://github.com/user-attachments/assets/a79e518b-e9b8-456c-94c0-cf14f8398b4b)

Выберите нужные параметры: 
* Separator: Comma
* Import as: Matrix
* Charset: UTF-8
И нажмите "далее", а после этого "готово".

![image](https://github.com/user-attachments/assets/b5d49803-b706-41e4-a94a-b7328487fd42)

Проверьте, что ошибок не появилось. Выберите Тип графа: неориентированное, нажмите "Close" в окне про удаленные ребра.

![image](https://github.com/user-attachments/assets/f8c3c833-f5d3-44e4-bdb5-bfeba5cb417e)

Ура! На вашем экране появился граф. 

## 4. Как сделать граф красивее. 
Приближать граф можно колёсиком мыши (или двумя пальцами на тачпаде); большая серая точка двигает вершины. 
* выделяем сообщества
  Сообщества выделяются по принципу оптимизации Модулярности. Сначала считаем модулярность (Статистики > Community detection > Модулярность > Запуск). Далее раскрасим узлы разных сообществ в разные цвета:
  
  ![image](https://github.com/user-attachments/assets/48d699f4-8638-40bf-b004-56caf6929895)

* Теперь увеличим размер узлов по степени близости (для этого предварительно надо посчитать статистики узлов в разделе Статистика):

  ![image](https://github.com/user-attachments/assets/fb39d8d8-4cf9-4261-bfd1-8a8605affd72)

* запускаем алгоритм, который раскидает сообщества в разные стороны пространства:

  ![image](https://github.com/user-attachments/assets/e3eb29bb-75c2-4c4c-aba8-fe55e5aab2fc)

  (еще можно запустить Расширение пару раз, чтобы сделать граф удобного размера)

* отображаем подписи на узлах (черная буква Т внизу)

![image](https://github.com/user-attachments/assets/793b39e3-9d42-45b7-885e-beb9bbb7067e)

* играемся с размером шрифта, его толщиной и толщиной ребер (тоже внизу) 




